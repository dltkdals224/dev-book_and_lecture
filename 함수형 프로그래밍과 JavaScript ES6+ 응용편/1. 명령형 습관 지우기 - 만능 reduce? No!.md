# 섹션 1. 명령형 습관 지우기 - 만능 reduce? No!

## reduce + 복잡한 함수 + acc 보다 map + 간단한 함수 + reduce

```javascript
import * as _ from "fxjs/Strict";
import * as L from "fxjs/Lazy";
// import * as C from "fxjs/Concurrency";

const users = [
  { name: "A", age: 35 },
  { name: "B", age: 26 },
  { name: "C", age: 28 },
  { name: "D", age: 34 },
  { name: "E", age: 23 },
];

console.log(_.reduce((total, user) => total + user.age, 0, users)); // 146

const add = (a, b) => a + b;
const ages = L.map((user) => user.age);
console.log(_.reduce(add, ages(users))); // 146
```

reduce 내부에 복잡한 로직을 넣는 것 보다<br/>
map을 통해 하나의 형만 남아있는 간단한 함수로 바꾼 후 조합하는게 더 좋을 수 있다.

<br/>

## reduce 하나 보다 map + filter + reduce

```javascript
import * as _ from "fxjs/Strict";
import * as L from "fxjs/Lazy";
// import * as C from "fxjs/Concurrency";

const users = [
  { name: "A", age: 35 },
  { name: "B", age: 26 },
  { name: "C", age: 28 },
  { name: "D", age: 34 },
  { name: "E", age: 23 },
];

console.log(
  _.reduce(
    (total, user) => (user.age >= 30 ? total : total + user.age),
    0,
    users
  )
); // 77

const add = (a, b) => a + b;
console.log(
  _.reduce(
    add,
    L.map(
      (user) => user.age,
      L.filter((user) => user.age < 30, users)
    )
  )
); // 77

console.log(
  _.reduce(
    add,
    L.filter(
      (n) => n < 30,
      L.map((user) => user.age, users)
    )
  )
); // 77
```

마찬가지로 reduce 함수 내부의 로직이 부담스러운 것 보다<br/>
아래의 두 경우가 나을 수 있음.

<br/>

## query1, query2

<br/>

## query3, query4

<br/>

## queryToObject

<br/>
